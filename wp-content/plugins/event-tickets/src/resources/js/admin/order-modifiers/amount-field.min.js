/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.etOrderModifiersAmountField=window.etOrderModifiersAmountField||{currencySymbol:"$",decimalSeparator:".",thousandsSeparator:",",percentMax:999999999,placement:"prefix",precision:2},function($,validation,i18n){const $document=$(document);let mask;const selectors_amount="#order_modifier_amount",selectors_form=".tec-settings-order_modifier",selectors_type="#order_modifier_sub_type",getType=()=>$(selectors_type).val(),getMaskPattern=()=>"percent"===getType()?"num %":"postfix"===i18n.placement?`num ${i18n.currencySymbol}`:`${i18n.currencySymbol} num`,setupMask=()=>{mask=window.IMask(document.querySelector(selectors_amount),{mask:getMaskPattern(),lazy:!1,blocks:{num:{mask:Number,max:999999999,min:0,normalizeZeros:!0,padFractionalZeros:!0,radix:i18n.decimalSeparator,scale:i18n.precision,thousandsSeparator:i18n.thousandsSeparator}}})},updateMask=()=>{const value=mask.unmaskedValue;mask.updateOptions({mask:getMaskPattern()}),mask.unmaskedValue=value},validateAmount=()=>{const $form=$(selectors_form),$input=$(selectors_amount),asFloat=parseFloat(mask.unmaskedValue);if(!isNaN(asFloat)&&asFloat>0&&("percent"!==getType()||parseFloat(mask.unmaskedValue)<=parseFloat(i18n.percentMax)))return $input.removeClass(validation.selectors.error.className()),void $input.val(asFloat);$form.removeClass(validation.selectors.valid.className()),$input.addClass(validation.selectors.error.className()),$input.one("focusin",validation.onChangeFieldRemoveError),$input.trigger("displayErrors.tribe")};$document.ready((()=>{setupMask(document.querySelector(selectors_amount)),$document.on("change",selectors_type,updateMask),$document.on("validation.tribe",validateAmount)}))}(jQuery,window.tribe.validation,window.etOrderModifiersAmountField||{});